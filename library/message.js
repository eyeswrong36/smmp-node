'use strict';const B=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x19d;let h=e[f];return h;},b(c,d);}(function(c,d){const A=b,e=c();while(!![]){try{const f=parseInt(A(0x1a6))/0x1+-parseInt(A(0x1af))/0x2*(-parseInt(A(0x1a1))/0x3)+-parseInt(A(0x1d4))/0x4+parseInt(A(0x1cc))/0x5+parseInt(A(0x1d5))/0x6*(-parseInt(A(0x1d9))/0x7)+parseInt(A(0x1c2))/0x8+-parseInt(A(0x1b6))/0x9*(parseInt(A(0x1e2))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2d41f));function a(){const a2=['map','client','forEach','min','delivery_resp','stringify','replace_sm','parse','2519640ESfxos','var','value','command_status','writeUInt32BE','submit_sm','Given\x20parameter\x20is\x20not\x20conform\x20with\x20the\x20standard\x20SMPP\x20PDU\x20format','command_length','readUInt32BE','type','1579355TStewz','delivery','sequence_number','anciliary','bytes','max','join','emit','756684RJHhpC','12bwrgVX','../library/converter','find','push','520702pkhSJr','event','submission','unsuccess_sme','isBuffer','name','from','submit_multi','padStart','175530YzbjPb','./common','write','reduce','c-string','3yWyjdQ','log','anciliary_resp','number_of_dests','receiver','370101gTCQjV','exports','sm_length','submit_sm_resp','short_message','dest_address','hex','toString','readUInt8','413916ifPAyK','command_id','ESME_ROK','submit_multi_resp','length','no_unsuccess','slice','351CRYwGW','./definition','sender','string'];a=function(){return a2;};return a();}const {showTransmitted}=require(B(0x19d)),{hexStrConverter,buffPduObjConverter}=require(B(0x1d6)),{pdu_format,command_ids,command_ids_val,command_status,command_status_val}=require(B(0x1b7));module[B(0x1a7)][B(0x1db)]=function(c){const C=B;if(Buffer['isBuffer'](c)&&c){let d=c,e={'command_length':d[C(0x1ca)](),'command_id':command_ids_val[d[C(0x1ca)](0x4)],'command_status':command_status_val[d['readUInt32BE'](0x8)],'sequence_number':d['readUInt32BE'](0xc)},f=[...pdu_format[e[C(0x1b0)]]],g=d[C(0x1b5)](0x10),h=0x0;f[C(0x1bc)](j=>{const D=C;if(j[D(0x1cb)]==D(0x1c3)){if(g[D(0x1b3)]>h){let k=JSON[D(0x1bf)](j[D(0x1c4)]);j[D(0x1c4)]=[];let l=g[D(0x1ae)](h-0x1);for(let m=0x0;m<l;m++){let n=JSON[D(0x1c1)](k);n[D(0x1bc)](o=>{h=buffPduObjConverter(h,g,o);}),j[D(0x1c4)]['push'](n);}}else j[D(0x1c4)]=[];}else h=buffPduObjConverter(h,g,j);}),showTransmitted(this[C(0x1a5)],e,f);let i=f['reduce']((j,k,l)=>{const E=C;return j[k[E(0x1de)]]=k[E(0x1c4)],j;},{});return this[C(0x1da)][C(0x1d3)](C(0x1a9),e,i),{...e,...i};}else{let j={'command_length':0x0,'command_id':c['command_id'],'command_status':c[C(0x1c5)]||'ESME_ROK','sequence_number':c[C(0x1ce)]},k=[j['command_length'][C(0x1ad)](0x10)[C(0x1e1)](0x8,'0'),command_ids[j[C(0x1b0)]][C(0x1ad)](0x10)[C(0x1e1)](0x8,'0'),command_status[j[C(0x1c5)]]['toString'](0x10)[C(0x1e1)](0x8,'0'),j[C(0x1ce)][C(0x1ad)](0x10)[C(0x1e1)](0x8,'0')],l=[...pdu_format[j[C(0x1b0)]]];for(let p in c){let q=l[C(0x1d7)](r=>r[C(0x1de)]==p&&r['type']!=C(0x1c3));q&&(q['value']=c[p]);}this['sender']=='client'&&(l[C(0x1d7)](({name:r})=>r==C(0x1a8))[C(0x1c4)]=l[C(0x1d7)](({name:r})=>r=='short_message')[C(0x1c4)][C(0x1b3)]);if(j['command_id']==C(0x1e0)){l[C(0x1d7)](({name:t})=>t==C(0x1a4))[C(0x1c4)]=c[C(0x1ab)][C(0x1b3)];let r=l['find'](({name:t})=>t==C(0x1ab)),s=JSON[C(0x1bf)](r[C(0x1c4)]);r[C(0x1c4)]=[],c['dest_address'][C(0x1bc)](t=>{const F=C;let u=JSON[F(0x1c1)](s);for(let v in t){let w=u[F(0x1d7)](({name:x})=>x==v);w&&(w[F(0x1c4)]=t[v]);}r[F(0x1c4)]['push'](u);});}if(j[C(0x1b0)]==C(0x1b2)&&c[C(0x1b4)][C(0x1b3)]>0x0){l[C(0x1d7)](({name:v})=>v==C(0x1b4))[C(0x1c4)]=c[C(0x1b4)]['length'];let t=l['find'](({name:v})=>v==C(0x1dc)),u=JSON['stringify'](t[C(0x1c4)]);t[C(0x1c4)]=[],c[C(0x1dc)][C(0x1bc)](v=>{const G=C;let w=JSON['parse'](u);for(let x in v){let y=w[G(0x1d7)](({name:z})=>z==x);y&&(y['value']=v[x]);}t[G(0x1c4)][G(0x1d8)](w);}),console[C(0x1a2)](t);}l[C(0x1ba)](v=>{const H=C;if(v['type']==H(0x1a0)||v['type']==H(0x1b9)){if(v[H(0x1bd)]>v[H(0x1c4)]['length']+0x1||v[H(0x1d1)]<v[H(0x1c4)][H(0x1b3)]||v[H(0x1b3)]<v[H(0x1c4)][H(0x1b3)]+0x1)throw new Error(H(0x1c8));}else{if(v[H(0x1c4)]>0xff)throw new Error(H(0x1c8));}});let m=k['join']('');l[C(0x1ba)](v=>{const I=C;v[I(0x1cb)]=='var'?v[I(0x1c4)][I(0x1bc)](w=>{w['forEach'](x=>{m+=hexStrConverter(x);});}):m+=hexStrConverter(v);});let n=Buffer[C(0x1df)](m,C(0x1ac));n['writeUInt32BE'](n[C(0x1b3)]),j[C(0x1c9)]=n[C(0x1b3)],this[C(0x1bb)]['write'](n),showTransmitted(this[C(0x1b8)],j,l);let o=l[C(0x19f)]((v,w,x)=>{const J=C;return v[w[J(0x1de)]]=w[J(0x1c4)],v;},{});return this['event']['emit'](C(0x1c7),j,o),{...j,...o};}},module[B(0x1a7)]['submission_resp']=function(c){const K=B;if(Buffer['isBuffer'](c)&&c){let d={'command_length':c[K(0x1ca)](),'command_id':command_ids_val[c[K(0x1ca)](0x4)],'command_status':command_status_val[c[K(0x1ca)](0x8)],'sequence_number':c[K(0x1ca)](0xc)},e=[...pdu_format[d[K(0x1b0)]]],f=c[K(0x1b5)](0x10),g=0x0;e['forEach'](j=>{const L=K;if(j[L(0x1cb)]==L(0x1c3)){if(f['length']>g){let k=JSON['stringify'](j[L(0x1c4)]);j[L(0x1c4)]=[];let l=f[L(0x1ae)](g-0x1);for(let m=0x0;m<l;m++){let n=JSON['parse'](k);n['forEach'](o=>{g=buffPduObjConverter(g,f,o);}),j[L(0x1c4)][L(0x1d8)](n);}}else j[L(0x1c4)]=[];}else g=buffPduObjConverter(g,f,j);}),showTransmitted(this['receiver'],d,e);let h=e[K(0x19f)]((i,j,k)=>{return i[j['name']]=j['value'],i;},{});return this['event']['emit'](K(0x1a9),d,h),{...d,...h};}else{let i=c,j={'command_length':0x0,'command_id':i[K(0x1b0)],'command_status':i[K(0x1c5)]||K(0x1b1),'sequence_number':i['sequence_number']},k=[j[K(0x1c9)][K(0x1ad)](0x10)['padStart'](0x8,'0'),command_ids[j[K(0x1b0)]]['toString'](0x10)[K(0x1e1)](0x8,'0'),command_status[j[K(0x1c5)]]['toString'](0x10)[K(0x1e1)](0x8,'0'),j[K(0x1ce)]['toString'](0x10)[K(0x1e1)](0x8,'0')],l=[...pdu_format[j[K(0x1b0)]]];for(let p in i){let q=l[K(0x1d7)](r=>r[K(0x1de)]==p&&r['type']!='var');q&&(q[K(0x1c4)]=i[p]);}this['sender']==K(0x1bb)&&(l[K(0x1d7)](({name:r})=>r=='sm_length')['value']=l[K(0x1d7)](({name:r})=>r==K(0x1aa))[K(0x1c4)]['length']);if(j[K(0x1b0)]==K(0x1b2)&&i[K(0x1dc)][K(0x1b3)]>0x0){l[K(0x1d7)](({name:t})=>t==K(0x1b4))[K(0x1c4)]=i[K(0x1dc)][K(0x1b3)];let r=l[K(0x1d7)](({name:t})=>t=='unsuccess_sme'),s=JSON['stringify'](r[K(0x1c4)]);r[K(0x1c4)]=[],i[K(0x1dc)][K(0x1bc)](t=>{const M=K;let u=JSON[M(0x1c1)](s);for(let v in t){let w=u['find'](({name:x})=>x==v);w&&(w[M(0x1c4)]=t[v]);}r[M(0x1c4)][M(0x1d8)](u);});}l[K(0x1ba)](t=>{const N=K;if(t['type']==N(0x1a0)||t[N(0x1cb)]==N(0x1b9)){if(t['min']>t[N(0x1c4)][N(0x1b3)]+0x1||t[N(0x1d1)]<t[N(0x1c4)][N(0x1b3)]||t['length']<t[N(0x1c4)]['length']+0x1)throw new Error(N(0x1c8));}else{if(t[N(0x1c4)]>0xff)throw new Error(N(0x1c8));}});let m=k['join']('');l[K(0x1ba)](t=>{const O=K;t['type']==O(0x1c3)?t['value'][O(0x1bc)](u=>{const P=O;u[P(0x1bc)](v=>{const Q=P;if(v['bytes']==0x4)v[Q(0x1c4)]=v[Q(0x1c4)][Q(0x1ad)](0x10)[Q(0x1e1)](0x8,'0'),v[Q(0x1cb)]='string';else v[Q(0x1d0)]==0x2&&(v[Q(0x1c4)]=v[Q(0x1c4)]['toString'](0x10)['padStart'](0x2,'0'),v[Q(0x1cb)]=Q(0x1b9));m+=hexStrConverter(v);});}):m+=hexStrConverter(t);});let n=Buffer[K(0x1df)](m,K(0x1ac));n['writeUInt32BE'](n[K(0x1b3)]),j[K(0x1c9)]=n[K(0x1b3)],this[K(0x1bb)][K(0x19e)](n),showTransmitted(this['sender'],j,l);let o=l[K(0x19f)]((t,u,v)=>{const R=K;return t[u[R(0x1de)]]=u[R(0x1c4)],t;},{});return{...j,...o};}},module['exports']['delivery']=function(c){const S=B;if(Buffer[S(0x1dd)](c)&&c){let d={'command_length':c[S(0x1ca)](),'command_id':command_ids_val[c[S(0x1ca)](0x4)],'command_status':command_status_val[c['readUInt32BE'](0x8)],'sequence_number':c['readUInt32BE'](0xc)},e=[...pdu_format[d['command_id']]],f=c[S(0x1b5)](0x10),g=0x0;e[S(0x1bc)](i=>{g=buffPduObjConverter(g,f,i);}),showTransmitted(this[S(0x1a5)],d,e);let h=e[S(0x19f)]((i,j,k)=>{const T=S;return i[j[T(0x1de)]]=j[T(0x1c4)],i;},{});return this[S(0x1da)][S(0x1d3)](S(0x1cd),d,h),{...d,...h};}else{let i={'command_length':0x0,'command_id':arg[S(0x1b0)],'command_status':arg[S(0x1c5)]||S(0x1b1),'sequence_number':arg[S(0x1ce)]},j=[i[S(0x1c9)]['toString'](0x10)['padStart'](0x8,'0'),command_ids[i['command_id']][S(0x1ad)](0x10)['padStart'](0x8,'0'),command_status[i[S(0x1c5)]][S(0x1ad)](0x10)['padStart'](0x8,'0'),i['sequence_number'][S(0x1ad)](0x10)['padStart'](0x8,'0')],k=[...pdu_format[i[S(0x1b0)]]];for(let o in arg){let p=k['find'](q=>q['name']==o);p&&(p['value']=arg[o]);}let l=j[S(0x1d2)]('');k[S(0x1ba)](q=>{l+=hexStrConverter(q);});let m=Buffer[S(0x1df)](l,'hex');m[S(0x1c6)](m[S(0x1b3)]),i[S(0x1c9)]=m[S(0x1b3)],this[S(0x1bb)][S(0x19e)](m),showTransmitted(this['sender'],i,k);let n=k[S(0x19f)]((q,r,s)=>{const U=S;return q[r[U(0x1de)]]=r[U(0x1c4)],q;},{});return{...i,...n};}},module[B(0x1a7)][B(0x1be)]=function(c){const V=B;if(Buffer[V(0x1dd)](c)&&c){let d=c,e={'command_length':d['readUInt32BE'](),'command_id':command_ids_val[d[V(0x1ca)](0x4)],'command_status':command_status_val[d[V(0x1ca)](0x8)],'sequence_number':d[V(0x1ca)](0xc)},f=[...pdu_format[e['command_id']]],g=d[V(0x1b5)](0x10),h=0x0;f[V(0x1bc)](j=>{h=buffPduObjConverter(h,g,j);}),showTransmitted(this[V(0x1a5)],e,f);let i=f[V(0x19f)]((j,k,l)=>{const W=V;return j[k[W(0x1de)]]=k[W(0x1c4)],j;},{});return this[V(0x1da)][V(0x1d3)](pdu_head[V(0x1b0)],e,i),{...e,...i};}else{let j={'command_length':0x0,'command_id':c[V(0x1b0)],'command_status':c['command_status']||V(0x1b1),'sequence_number':c[V(0x1ce)]},k=[j[V(0x1c9)]['toString'](0x10)[V(0x1e1)](0x8,'0'),command_ids[j['command_id']]['toString'](0x10)[V(0x1e1)](0x8,'0'),command_status[j[V(0x1c5)]]['toString'](0x10)[V(0x1e1)](0x8,'0'),j[V(0x1ce)][V(0x1ad)](0x10)[V(0x1e1)](0x8,'0')],l=[...pdu_format[j[V(0x1b0)]]];for(let p in c){let q=l['find'](r=>r['name']==p);q&&(q[V(0x1c4)]=c[p]);}let m=k[V(0x1d2)]('');l[V(0x1ba)](r=>{m+=hexStrConverter(r);});let n=Buffer[V(0x1df)](m,V(0x1ac));n[V(0x1c6)](n['length']),j[V(0x1c9)]=n[V(0x1b3)],this[V(0x1bb)][V(0x19e)](n),showTransmitted(this[V(0x1b8)],j,l);let o=l[V(0x19f)]((r,s,t)=>{const X=V;return r[s[X(0x1de)]]=s['value'],r;},{});return{...j,...o};}},module[B(0x1a7)][B(0x1cf)]=function(c){const Y=B;if(Buffer[Y(0x1dd)](c)&&c){let d=c,e={'command_length':d['readUInt32BE'](),'command_id':command_ids_val[d['readUInt32BE'](0x4)],'command_status':command_status_val[d[Y(0x1ca)](0x8)],'sequence_number':d[Y(0x1ca)](0xc)},f=[...pdu_format[e[Y(0x1b0)]]],g=d['slice'](0x10),h=0x0;return f[Y(0x1bc)](i=>{h=buffPduObjConverter(h,g,i);}),this[Y(0x1da)]['emit'](e[Y(0x1b0)],e),showTransmitted(this[Y(0x1a5)],e,f),e;}else{let i={'command_length':0x0,'command_id':c[Y(0x1b0)],'command_status':c[Y(0x1c5)]||Y(0x1b1),'sequence_number':c[Y(0x1ce)]},j=[i[Y(0x1c9)][Y(0x1ad)](0x10)[Y(0x1e1)](0x8,'0'),command_ids[i['command_id']][Y(0x1ad)](0x10)[Y(0x1e1)](0x8,'0'),command_status[i[Y(0x1c5)]][Y(0x1ad)](0x10)[Y(0x1e1)](0x8,'0'),i[Y(0x1ce)][Y(0x1ad)](0x10)[Y(0x1e1)](0x8,'0')],k=[...pdu_format[i[Y(0x1b0)]]];for(let o in c){let p=k[Y(0x1d7)](q=>q[Y(0x1de)]==o);p&&(p[Y(0x1c4)]=c[o]);}i[Y(0x1b0)]==Y(0x1c0)&&(k[Y(0x1d7)](({name:q})=>q==Y(0x1a8))[Y(0x1c4)]=k['find'](({name:q})=>q==Y(0x1aa))[Y(0x1c4)][Y(0x1b3)]);let l=j[Y(0x1d2)]('');k[Y(0x1ba)](q=>{l+=hexStrConverter(q);});let m=Buffer[Y(0x1df)](l,Y(0x1ac));m[Y(0x1c6)](m[Y(0x1b3)]),i[Y(0x1c9)]=m['length'],this[Y(0x1bb)][Y(0x19e)](m),showTransmitted(this[Y(0x1b8)],i,k);let n=k[Y(0x19f)]((q,r,s)=>{const Z=Y;return q[r[Z(0x1de)]]=r[Z(0x1c4)],q;},{});return{...i,...n};}},module['exports'][B(0x1a3)]=function(c){const a0=B;if(Buffer[a0(0x1dd)](c)&&c){let d={'command_length':c[a0(0x1ca)](),'command_id':command_ids_val[c[a0(0x1ca)](0x4)],'command_status':command_status_val[c[a0(0x1ca)](0x8)],'sequence_number':c[a0(0x1ca)](0xc)},e=[...pdu_format[d['command_id']]],f=c['slice'](0x10),g=0x0;return e[a0(0x1bc)](h=>{g=buffPduObjConverter(g,f,h);}),this[a0(0x1da)][a0(0x1d3)](d[a0(0x1b0)],d),showTransmitted(this[a0(0x1a5)],d,e),d;}else{let h=c,i={'command_length':0x0,'command_id':h[a0(0x1b0)],'command_status':h[a0(0x1c5)]||'ESME_ROK','sequence_number':h[a0(0x1ce)]},j=[i[a0(0x1c9)][a0(0x1ad)](0x10)[a0(0x1e1)](0x8,'0'),command_ids[i[a0(0x1b0)]][a0(0x1ad)](0x10)[a0(0x1e1)](0x8,'0'),command_status[i[a0(0x1c5)]][a0(0x1ad)](0x10)['padStart'](0x8,'0'),i[a0(0x1ce)][a0(0x1ad)](0x10)[a0(0x1e1)](0x8,'0')],k=[...pdu_format[i['command_id']]];for(let o in h){let p=k['find'](q=>q['name']==o);p&&(p[a0(0x1c4)]=h[o]);}let l=j[a0(0x1d2)]('');k[a0(0x1ba)](q=>{l+=hexStrConverter(q);});let m=Buffer['from'](l,a0(0x1ac));m[a0(0x1c6)](m[a0(0x1b3)]),i[a0(0x1c9)]=m['length'],this[a0(0x1bb)][a0(0x19e)](m),showTransmitted(this['sender'],i,k);let n=k[a0(0x19f)]((q,r,s)=>{const a1=a0;return q[r[a1(0x1de)]]=r['value'],q;},{});return{...i,...n};}};